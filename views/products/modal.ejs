<script type="text/ng-template" id="modal.html">
    <div class="modal" id="myModal" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg">
          <div class="modal-content">
      
            <!-- Modal Header -->
            <div class="modal-header" ng-class="{'bg-primary': newProduct.mode == 'create', 'bg-warning': newProduct.mode == 'edit'}">
              <h4 class="modal-title text-white">{{newProduct.mode == 'create' ? 'Create'  : 'Edit' }} Product</h4>
              <!-- <button type="button" class="close" data-dismiss="modal" ng-click="close()">&times;</button> -->
            </div>
      
            <!-- Modal body -->
            <div class="modal-body">
                <form name="form">
                    <div class="form-row">
                        <div class="form-group col-6">
                            <label>Name</label>
                            <input type="text" class="form-control" name="name" id="name"
                                ng-model="newProduct.name" placeholder="Enter Product Name" ng-minlength="1" ng-maxlength="10" required>
                            <div ng-messages="form.name.$error" ng-if="form.name.$touched" role="alert">
                                <div class="text-danger" ng-message="required">Please enter a value for this field.
                                </div>
                                <div class="text-danger" ng-message="minlength">Name At Least 1 Chars Long.</div>
                                <div class="text-danger" ng-message="maxlength">Name At Max 10 Chars Long.</div>
                            </div>
                        </div>

                        <div class="form-group col-6">
                            <label>Price</label>
                            <input type="number" class="form-control" name="price" id="price"
                                ng-model="newProduct.price" placeholder="Enter Product Price" required>
                            <div ng-messages="form.price.$error" ng-if="form.price.$touched" role="alert">
                                <div class="text-danger" ng-message="required">Please enter a value for this field.
                                </div>
                                <div class="text-danger" ng-message="minlength">Name At Least 1 Chars Long.</div>
                                <div class="text-danger" ng-message="maxlength">Name At Max 10 Chars Long.</div>
                            </div>
                        </div>

                        <div class="form-group col-6">
                            <label>Quantity</label>
                            <input type="number" class="form-control" name="quantity" id="quantity"
                                ng-model="newProduct.quantity" placeholder="Enter Product Quantity" required>
                            <div ng-messages="form.quantity.$error" ng-if="form.quantity.$touched" role="alert">
                                <div class="text-danger" ng-message="required">Please enter a value for this field.</div>
                            </div>
                        </div>

                        <div class="form-group col-6">
                            <label>Select User</label>
                            <select class="form-control" name="createdBy" id="createdBy"
                                ng-model="newProduct.createdBy" ng-options="user._id as user.firstName + ' ' + user.lastName for user in users" required></select>
                            <div ng-messages="form.quantity.$error" ng-if="form.quantity.$touched" role="alert">
                                <div class="text-danger" ng-message="required">Please enter a value for this field.</div>
                            </div>
                        </div>

                        
                    </div>
                </form>
            </div>
      
            <!-- Modal footer -->
            <div class="modal-footer">
                <button class="btn btn-success pt-2" ng-click="addProduct()" ng-if="newProduct.mode != 'edit'"
                ng-disabled="!form.$valid"><i class='fa fa-save'></i> Add</button>
            <button class="btn btn-warning pt-3" ng-click="editProduct()" ng-if="newProduct.mode == 'edit'"
                ng-disabled="!form.$valid"><i class='fa fa-save'></i> Edit</button>
              <button type="button" class="btn btn-danger" ng-click="close()">Close</button>
            </div>
      
          </div>
        </div>
      </div>
</script>